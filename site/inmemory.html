
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Documentation" name="description"/>
<meta content="Percona LLC" name="author"/>
<link href="_images/percona-favicon.ico" rel="icon"/>
<meta content="mkdocs-1.2.2, mkdocs-material-7.2.6" name="generator"/>
<title>Percona Memory Engine - Percona Server for MongoDB 6.0</title>
<link href="assets/stylesheets/main.802231af.min.css" rel="stylesheet"/>
<link href="assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,400i,700%7C&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Poppins";--md-code-font-family:""}</style>
<link href="https://unicons.iconscout.com/release/v3.0.3/css/line.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet"/>
<link href="css/percona.css" rel="stylesheet"/>
<link href="css/nocopy.css" rel="stylesheet"/>
<html data-lt-installed="true">
<head>
<meta content="Percona Server for MongoDB" property="og:title"/>
<meta content="Documentation" property="og:description"/>
<meta <meta="" content="https://docs.percona.com/percona-server-for-mongodb/" property="og:url"/>
</head>
<body>
</body>
</html>
<script>
              (function (w, d, s, l, i) {
                  w[l] = w[l] || []; w[l].push({
                    'gtm.start': new Date().getTime(), 
                    event: 'gtm.js'
                  });
                  var f = d.getElementsByTagName(s)[0],
                  j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';
                  j.async = true; 
                  j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
                  f.parentNode.insertBefore(j, f);
                })(window, document, 'script', 'dataLayer', 'GTM-K48FGP2');
              </script>
</head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="percona-light" dir="ltr">
<script>function __prefix(e){return new URL(".",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#percona-memory-engine">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Percona Server for MongoDB 6.0" class="md-header__button md-logo" data-md-component="logo" href="https://docs.percona.com" title="Percona Server for MongoDB 6.0">
<img alt="logo" src="_images/percona-logo.svg"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Percona Server for MongoDB 6.0
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Percona Memory Engine
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="" data-md-color-scheme="percona-light" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2 2 2 0 0 1 2-2m10-3a5 5 0 0 1 5 5 5 5 0 0 1-5 5H7a5 5 0 0 1-5-5 5 5 0 0 1 5-5h10M7 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3h10a3 3 0 0 0 3-3 3 3 0 0 0-3-3H7z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/percona/psmdb-docs/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    percona/psmdb-docs
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Percona Server for MongoDB 6.0" class="md-nav__button md-logo" data-md-component="logo" href="https://docs.percona.com" title="Percona Server for MongoDB 6.0">
<img alt="logo" src="_images/percona-logo.svg"/>
</a>
    Percona Server for MongoDB 6.0
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/percona/psmdb-docs/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    percona/psmdb-docs
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="index.html">
        Home
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="comparison.html">
        Percona Server for MongoDB feature comparison
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
        Install PSMDB
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Install PSMDB" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Install PSMDB
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="install/index.html">
        System requirements
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="install/apt.html">
        Install Percona Server for MongoDB on Debian and Ubuntu
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="install/yum.html">
        Install Percona Server for MongoDB on Red Hat Enterprise Linux and derivatives
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="install/tarball.html">
        Install Percona Server for MongoDB from binary tarball
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="install/docker.html">
        Run Percona Server for MongoDB in a Docker container
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
        Features
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Features" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Features
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" id="__nav_4_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_1">
        Storage
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Storage" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_1">
<span class="md-nav__icon md-icon"></span>
          Storage
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Percona Memory Engine
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="inmemory.html">
        Percona Memory Engine
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#usage">
    Usage
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
<nav aria-label="Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#options">
    Options
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#switching-storage-engines">
    Switching storage engines
  </a>
<nav aria-label="Switching storage engines" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#considerations">
    Considerations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#procedure">
    Procedure
  </a>
<nav aria-label="Procedure" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#temporarily-test-percona-memory-engine">
    Temporarily test Percona Memory Engine
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#permanent-switch-to-percona-memory-engine-without-any-valuable-data-in-your-database">
    Permanent switch to Percona Memory Engine without any valuable data in your database
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#switch-to-percona-memory-engine-with-data-migration-and-compatibility">
    Switch to Percona Memory Engine with data migration and compatibility
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-at-rest-encryption">
    Data at rest encryption
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_2" id="__nav_4_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_2">
        Backup
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Backup" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_2">
<span class="md-nav__icon md-icon"></span>
          Backup
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="hot-backup.html">
        Hot Backup
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="backup-cursor.html">
        $backupCursor and $backupCursorExtend aggregation stages
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" id="__nav_4_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_3">
        Authentication
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Authentication" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_3">
<span class="md-nav__icon md-icon"></span>
          Authentication
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="authentication.html">
        Authentication overview
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="enable-auth.html">
        Enable SCRAM authentication
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="sasl-auth.html">
        Set up LDAP authentication with SASL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="x509-ldap.html">
        Set up x.509 authentication and LDAP authorization
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="kerberos.html">
        Setting up Kerberos authentication
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="aws-iam.html">
        AWS IAM authentication
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="aws-iam-setup.html">
        Setting up AWS IAM authentication
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="authorization.html">
        LDAP authorization
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="ldap-setup.html">
        Set up LDAP authentication and authorization using NativeLDAP
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_4" id="__nav_4_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4_4">
        Encryption
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Encryption" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_4_4">
<span class="md-nav__icon md-icon"></span>
          Encryption
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="data-at-rest-encryption.html">
        Data at rest encryption
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="vault.html">
        HashiCorp Vault integration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="kmip.html">
        Using the Key Management Interoperability Protocol (KMIP)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="keyfile.html">
        Local key management using a keyfile
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="encryption-mode-switch.html">
        Migrate from key file encryption to HashiCorp Vault encryption
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="audit-logging.html">
        Auditing
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="rate-limit.html">
        Profiling rate limit
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="log-redaction.html">
        Log redaction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="ngram-full-text-search.html">
        Additional text search algorithm - ngram
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
        Manage PSMDB
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Manage PSMDB" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Manage PSMDB
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="set-parameter.html">
        Tune parameters
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5_2" id="__nav_5_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_5_2">
        Upgrade
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Upgrade" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_5_2">
<span class="md-nav__icon md-icon"></span>
          Upgrade
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="install/upgrade-from-50.html">
        Upgrade from 5.0 to 6.0
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="install/upgrade-from-mongodb.html">
        Upgrade Percona Server for MongoDB
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="install/uninstall.html">
        Uninstall Percona Server for MongoDB
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
        Release notes
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Release notes" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Release notes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="release_notes/index.html">
        Release notes index
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="release_notes/6.0.5-4.html">
        Percona Server for MongoDB 6.0.5-4 (2023-03-29)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="release_notes/6.0.4-3.html">
        Percona Server for MongoDB 6.0.4-3 (2023-01-30)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="release_notes/6.0.3-2.html">
        Percona Server for MongoDB 6.0.3-2 (2022-12-07)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="release_notes/6.0.2-1.html">
        Percona Server for MongoDB 6.0.2-1 (2022-10-31)
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="glossary.html">
        Glossary
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="copyright.html">
        Copyright and licensing information
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="trademark-policy.html">
        Trademark policy
      </a>
</li>
<br/>
<label class="md-nav__title" for="__drawer">
<a class="md-nav__link md-nav__link--active" href="https://learn.percona.com/download-percona-server-mongodb-6-0-manual" onclick="_gaq.push(['b._trackEvent', 'Percona Server for MongoDB 6.0', 'Download', 'Download Manual Server for MongoDB 6.0']);">
      Download PDF
    </a>
</label>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#usage">
    Usage
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configuration">
    Configuration
  </a>
<nav aria-label="Configuration" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#options">
    Options
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#switching-storage-engines">
    Switching storage engines
  </a>
<nav aria-label="Switching storage engines" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#considerations">
    Considerations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#procedure">
    Procedure
  </a>
<nav aria-label="Procedure" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#temporarily-test-percona-memory-engine">
    Temporarily test Percona Memory Engine
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#permanent-switch-to-percona-memory-engine-without-any-valuable-data-in-your-database">
    Permanent switch to Percona Memory Engine without any valuable data in your database
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#switch-to-percona-memory-engine-with-data-migration-and-compatibility">
    Switch to Percona Memory Engine with data migration and compatibility
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-at-rest-encryption">
    Data at rest encryption
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<!-- Edit and view button -->
<a class="md-content__button md-icon" href="https://github.com/percona/psmdb-docs/edit/6.0/docs/inmemory.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1z"></path></svg>
</a>
<a class="md-content__button md-icon" href="https://raw.githubusercontent.com/percona/psmdb-docs/6.0/docs/inmemory.md" title="View source of this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2z"></path></svg>
</a>
<!--
                  Hack: check whether the content contains a h1 headline. If it
                  doesn't, the page title (or respectively site name) is used
                  as the main headline.
                -->
<!-- Markdown content -->
<h1 id="percona-memory-engine">Percona Memory Engine</h1>
<p>Percona Memory Engine is a special configuration of <a href="https://docs.mongodb.org/manual/core/wiredtiger/">WiredTiger</a> that does
not store user data on disk. Data fully resides in the main memory, making
processing much faster and smoother. Keep in mind that you need to have enough
memory to hold the data set, and ensure that the server does not shut down.</p>
<p>The Percona Memory Engine is available in Percona Server for MongoDB along with the default MongoDB engine <a href="https://docs.mongodb.org/manual/core/wiredtiger/">WiredTiger</a>.</p>
<h2 id="usage">Usage</h2>
<p>As of version 3.2, Percona Server for MongoDB runs with <a href="https://docs.mongodb.org/manual/core/wiredtiger/">WiredTiger</a> by default.  You can select a
storage engine using the <code>--storageEngine</code> command-line option when you start
<code>mongod</code>.  Alternatively, you can set the <code>storage.engine</code> variable in the
configuration file (by default, <code>/etc/mongod.conf</code>):</p>
<div class="highlight"><pre><span></span><code><span class="nt">storage</span><span class="p">:</span>
  <span class="nt">dbPath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;dataDir&gt;</span>
  <span class="nt">engine</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">inMemory</span>
</code></pre></div>
<h2 id="configuration">Configuration</h2>
<p>You can configure Percona Memory Engine using either command-line options or
corresponding parameters in the <code>/etc/mongod.conf</code> file. The following are the configuration examples:</p>
<div class="tabbed-set" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio"><label for="__tabbed_1_1">Configuration file</label><div class="tabbed-content">
<p>The configuration file is formatted in YAML</p>
<div class="highlight"><pre><span></span><code><span class="nt">storage</span><span class="p">:</span>
  <span class="nt">engine</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">inMemory</span>
  <span class="nt">inMemory</span><span class="p">:</span>
    <span class="nt">engineConfig</span><span class="p">:</span>
      <span class="nt">inMemorySizeGB</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">140</span>
      <span class="nt">statisticsLogDelaySecs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
</code></pre></div>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio"><label for="__tabbed_1_2">Command line</label><div class="tabbed-content">
<p>Setting parameters in the configuration file is the same as
 starting the <code>mongod</code> daemon with the following options:</p>
<div class="highlight"><pre><span></span><code>mongod --storageEngine<span class="o">=</span>inMemory <span class="se">\</span>
--inMemorySizeGB<span class="o">=</span><span class="m">140</span> <span class="se">\</span>
--inMemoryStatisticsLogDelaySecs<span class="o">=</span><span class="m">0</span>
</code></pre></div>
</div>
</input></input></div>
<h3 id="options">Options</h3>
<p>The following options are available (with corresponding YAML configuration file
parameters):</p>
<table>
<thead>
<tr>
<th>Command line</th>
<th>Configuration file</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--inMemorySizeGB()</code></td>
<td><code>storage.inMemory.engineConfig.inMemorySizeGB</code></td>
<td>50% of total memory minus 1024 MB, but not less than 256 MB</td>
<td>Specifies the maximum memory in gigabytes to use for data</td>
</tr>
<tr>
<td><code>--inMemoryStatisticsLogDelaySecs()</code></td>
<td><code>storage.inMemory.engineConfig.statisticsLogDelaySecs</code></td>
<td>0</td>
<td>Specifies the number of seconds between writes to statistics log.  If 0 is specified then statistics are not logged</td>
</tr>
</tbody>
</table>
<h2 id="switching-storage-engines">Switching storage engines</h2>
<h3 id="considerations">Considerations</h3>
<p>If you have data files in your database and want to change to Percona Memory Engine, consider the following:</p>
<ul>
<li>
<p>Data files created by one storage engine are not compatible with other engines, because each one has its own data model.</p>
</li>
<li>
<p>When changing the storage engine, the <code>mongod</code> node requires an empty <code>dbPath</code> data directory when it is restarted. Though Percona Memory Engine stores all data in memory, some metadata files, diagnostics logs and statistics metrics are still written to disk. This is controlled with the <code>--inMemoryStatisticsLogDelaySecs</code> option.</p>
</li>
</ul>
<p>Creating a new <code>dbPath</code> data directory for a different storage engine is the simplest solution. Yet when you switch between disk-using storage engines (e.g. from <a href="https://docs.mongodb.org/manual/core/wiredtiger/">WiredTiger</a> to Percona Memory Engine), you may have to delete the old data if there is not enough disk space for both. Double-check that your backups are solid and/or the replica set nodes are healthy before you switch to the new storage engine.</p>
<h3 id="procedure">Procedure</h3>
<p>To change a storage engine, you have the following options:</p>
<h4 id="temporarily-test-percona-memory-engine">Temporarily test Percona Memory Engine</h4>
<p>Set a different data directory for the <code>dbPath</code> variable in the configuration file. Make sure that the user running <code>mongod</code> has read and write permissions for the new data directory.</p>
<ol>
<li>
<p>Stop <code>mongod</code></p>
<div class="highlight"><pre><span></span><code>$ service mongod stop
</code></pre></div>
</li>
<li>
<p>Edit the configuration file</p>
<div class="highlight"><pre><span></span><code><span class="nt">storage</span><span class="p">:</span>
  <span class="nt">dbPath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;newDataDir&gt;</span>
  <span class="nt">engine</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">inmemory</span>
</code></pre></div>
</li>
<li>
<p>Start <code>mongod</code></p>
<div class="highlight"><pre><span></span><code>$ service mongod start
</code></pre></div>
</li>
</ol>
<h4 id="permanent-switch-to-percona-memory-engine-without-any-valuable-data-in-your-database">Permanent switch to Percona Memory Engine without any valuable data in your database</h4>
<p>Clean out the <code>dbPath</code> data directory (by default, <code>/var/lib/mongodb</code>) and edit the configuration file:</p>
<ol>
<li>
<p>Stop <code>mongod</code></p>
<div class="highlight"><pre><span></span><code>$ service mongod stop
</code></pre></div>
</li>
<li>
<p>Clean out the <code>dbPath</code> data directory</p>
<div class="highlight"><pre><span></span><code>$ sudo rm -rf &lt;dbpathDataDir&gt;
</code></pre></div>
</li>
<li>
<p>Edit the configuration file</p>
<div class="highlight"><pre><span></span><code><span class="nt">storage</span><span class="p">:</span>
  <span class="nt">dbPath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;newDataDir&gt;</span>
  <span class="nt">engine</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">inmemory</span>
</code></pre></div>
</li>
<li>
<p>Start <code>mongod</code></p>
<div class="highlight"><pre><span></span><code>$ service mongod start
</code></pre></div>
</li>
</ol>
<h4 id="switch-to-percona-memory-engine-with-data-migration-and-compatibility">Switch to Percona Memory Engine with data migration and compatibility</h4>
<div class="tabbed-set" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio"><label for="__tabbed_2_1">Standalone instance</label><div class="tabbed-content">
<p>For a standalone instance or a single-node replica set, use the <code>mongodump</code> and <code>mongorestore</code> utilities:</p>
<ol>
<li>
<p>Export the dataDir contents</p>
<div class="highlight"><pre><span></span><code>$ mongodump --out &lt;dumpDir&gt;
</code></pre></div>
</li>
<li>
<p>Stop <code>mongod</code></p>
<div class="highlight"><pre><span></span><code>$ service mongod stop
</code></pre></div>
</li>
<li>
<p>Clean out the <code>dbPath</code> data directory</p>
<div class="highlight"><pre><span></span><code>$ sudo rm -rf &lt;dbpathDataDir&gt;
</code></pre></div>
</li>
<li>
<p>Update the configuration file by setting the new
value for the <code>storage.engine</code> variable. Set the engine-specific settings such as <code>storage.inMemory.engineConfig.inMemorySizeGB</code></p>
</li>
<li>
<p>Start <code>mongod</code></p>
<div class="highlight"><pre><span></span><code>$ service mongod start
</code></pre></div>
</li>
<li>
<p>Restore the database</p>
<div class="highlight"><pre><span></span><code>$ mongorestore &lt;dumpDir&gt;
</code></pre></div>
</li>
</ol>
</div>
<input id="__tabbed_2_2" name="__tabbed_2" type="radio"><label for="__tabbed_2_2">Replica set</label><div class="tabbed-content">
<p>Use the “rolling restart” process.</p>
<ol>
<li>
<p>Switch to the Percona Memory Engine on the secondary node. Clean out the <code>dbPath</code> data directory and edit the configuration file:</p>
</li>
<li>
<p>Stop <code>mongod</code></p>
<div class="highlight"><pre><span></span><code>$ service mongod stop
</code></pre></div>
</li>
<li>
<p>Clean out the <code>dbPath</code> data directory</p>
<div class="highlight"><pre><span></span><code>$ sudo rm -rf &lt;dbpathDataDir&gt;
</code></pre></div>
</li>
<li>
<p>Edit the configuration file</p>
<div class="highlight"><pre><span></span><code><span class="nt">storage</span><span class="p">:</span>
  <span class="nt">dbPath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;newDataDir&gt;</span>
  <span class="nt">engine</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">inmemory</span>
</code></pre></div>
</li>
<li>
<p>Start <code>mongod</code></p>
<div class="highlight"><pre><span></span><code>$ service mongod start
</code></pre></div>
</li>
<li>
<p>Wait for the node to rejoin with the other nodes and report the SECONDARY status.</p>
</li>
<li>
<p>Repeat the procedure to switch the remaining nodes to Percona Memory Engine.</p>
</li>
</ol>
</div>
</input></input></div>
<h3 id="data-at-rest-encryption">Data at rest encryption</h3>
<p>Using <a href="data-at-rest-encryption.html">Data at Rest Encryption</a> means using the same <code>storage.\*</code>
configuration options as for <a href="https://docs.mongodb.org/manual/core/wiredtiger/">WiredTiger</a>. To change from normal to <a href="data-at-rest-encryption.html">Data at Rest Encryption</a> mode or backward, you must clean up the <code>dbPath</code> data directory, just as if you change the storage engine. This is because
<strong>mongod</strong> cannot convert the data files to an encrypted format ‘in place’. It
must get the document data again either via the initial sync from another
replica set member, or from imported backup dump.</p>
<h1 id="percona-memory-engine_1">Percona memory engine</h1>
<p>Percona memory engine is a special configuration of <a href="https://docs.mongodb.org/manual/core/wiredtiger/">WiredTiger</a> that does
not store user data on disk.  Data fully resides in the main memory, making
processing much faster and smoother.  Keep in mind that you need to have enough
memory to hold the data set, and ensure that the server does not shut down.</p>
<p>The <em>Percona Memory Engine</em> is available in Percona Server for MongoDB along with the default
MongoDB engine <a href="https://docs.mongodb.org/manual/core/wiredtiger/">WiredTiger</a>.</p>
<h2 id="using-percona-memory-engine">Using Percona Memory Engine</h2>
<p>As of version 3.2, Percona Server for MongoDB runs with <a href="https://docs.mongodb.org/manual/core/wiredtiger/">WiredTiger</a> by default.  You can select a
storage engine using the <code>--storageEngine</code> command-line option when you start
<code>mongod</code>.  Alternatively, you can set the <code>storage.engine</code> variable in the
configuration file (by default, <code>/etc/mongod.conf</code>):</p>
<div class="highlight"><pre><span></span><code><span class="nt">storage</span><span class="p">:</span>
  <span class="nt">dbPath</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">&lt;dataDir&gt;</span>
  <span class="nt">engine</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">inMemory</span>
</code></pre></div>
<h2 id="switching-storage-engines_1">Switching storage engines</h2>
<h3 id="considerations_1">Considerations</h3>
<p>If you have data files in your database and want to change to Percona Memory Engine, consider the following:</p>
<ul>
<li>
<p>Data files created by one storage engine are not compatible with other engines, because each one has its own data model.</p>
</li>
<li>
<p>When changing the storage engine, the <strong>mongod</strong> node requires an empty <code>dbPath</code> data directory when it is restarted. Though Percona Memory Engine stores all data in memory, some metadata files, diagnostics logs and statistics metrics are still written to disk. This is controlled with the <code>--inMemoryStatisticsLogDelaySecs</code> option.</p>
</li>
</ul>
<p>Creating a new <code>dbPath</code> data directory for a different storage engine is the simplest solution. Yet when you switch between disk-using storage engines (e.g. from <a href="https://docs.mongodb.org/manual/core/wiredtiger/">WiredTiger</a> to Percona Memory Engine), you may have to delete the old data if there is not enough disk space for both. Double-check that your backups are solid and/or the replica set nodes are healthy before you switch to the new storage engine.</p>
<h3 id="procedure_1">Procedure</h3>
<p>To change a storage engine, you have the following options:</p>
<ul>
<li>If you simply want to temporarily test Percona Memory Engine, set a different
data directory for the <code>dbPath</code> variable in the configuration file.
Make sure that the user running <strong>mongod</strong> has read and write
permissions for the new data directory.</li>
</ul>
<div class="highlight"><pre><span></span><code>$ service mongod stop
$ <span class="c1"># In the configuration file, set the inmemory</span>
$ <span class="c1"># value for the storage.engine variable</span>
$ <span class="c1"># Set the &lt;newDataDir&gt; for the dbPath variable</span>
$ service mongod start
</code></pre></div>
<ul>
<li>If you want to permanently switch to Percona Memory Engine and do not have any
valuable data in your database, clean out the <code>dbPath</code> data directory
(by default, <code>/var/lib/mongodb</code>) and edit the configuration file:</li>
</ul>
<div class="highlight"><pre><span></span><code>$ service mongod stop
$ rm -rf &lt;dbpathDataDir&gt;
$ <span class="c1"># Update the configuration file by setting the new</span>
$ <span class="c1"># value for the storage.engine variable</span>
$ <span class="c1"># set the engine-specific settings such as</span>
$ <span class="c1"># storage.inMemory.engineConfig.inMemorySizeGB</span>
$ service mongod start
</code></pre></div>
<ul>
<li>
<p>If there is data that you want to migrate
and make compatible with Percona Memory Engine,
use the following methods:</p>
<ul>
<li>for replica sets, use the “rolling restart” process.
Switch to the Percona Memory Engine on the secondary node. Clean out the <code>dbPath</code> data directory and edit the configuration file:</li>
</ul>
<div class="highlight"><pre><span></span><code>$ service mongod stop
$ rm -rf &lt;dbpathDataDir&gt;
$ <span class="c1"># Update the configuration file by setting the new</span>
$ <span class="c1"># value for the storage.engine variable</span>
$ <span class="c1"># set the engine-specific settings such as</span>
$ <span class="c1"># storage.inMemory.engineConfig.inMemorySizeGB</span>
$ service mongod start
</code></pre></div>
<p>Wait for the node to rejoin with the other nodes and report the SECONDARY status.</p>
<p>Repeat the procedure to switch the remaining nodes to Percona Memory Engine.</p>
<ul>
<li>for a standalone instance or a single-node replica set, use the <code>mongodump</code> and <code>mongorestore</code> utilities:</li>
</ul>
<div class="highlight"><pre><span></span><code>$ mongodump --out &lt;dumpDir&gt;
$ service mongod stop
$ rm -rf &lt;dbpathDataDir&gt;
$ <span class="c1"># Update the configuration file by setting the new</span>
$ <span class="c1"># value for the storage.engine variable</span>
$ <span class="c1"># set the engine-specific settings such as</span>
$ <span class="c1"># storage.inMemory.engineConfig.inMemorySizeGB</span>
$ service mongod start
$ mongorestore &lt;dumpDir&gt;
</code></pre></div>
</li>
</ul>
<h3 id="switching-engines-with-encrypted-data">Switching engines with encrypted data</h3>
<p>Using <a href="data-at-rest-encryption.html#psmdb-data-at-rest-encryption">Data at Rest Encryption</a> means using the same <code>storage.\*</code>
configuration options as for <a href="https://docs.mongodb.org/manual/core/wiredtiger/">WiredTiger</a>. To change from normal to <a href="data-at-rest-encryption.html#psmdb-data-at-rest-encryption">Data at Rest Encryption</a>
mode or backward, you must clean up the <code>dbPath</code> data directory,
just as if you change the storage engine. This is because
<strong>mongod</strong> cannot convert the data files to an encrypted format ‘in place’. It
must get the document data again either via the initial sync from another
replica set member, or from imported backup dump.</p>
<h2 id="configure-percona-memory-engine">Configure Percona Memory Engine</h2>
<p>Use either the command line or edit the configuration file to configure Percona Memory Engine</p>
<div class="tabbed-set" data-tabs="3:2"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio"><label for="__tabbed_3_1">Command line</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code>$ mongod --storageEngine<span class="o">=</span>inMemory <span class="se">\</span>
--inMemorySizeGB<span class="o">=</span><span class="m">140</span> <span class="se">\</span>
--inMemoryStatisticsLogDelaySecs<span class="o">=</span><span class="m">0</span>
</code></pre></div>
</div>
<input id="__tabbed_3_2" name="__tabbed_3" type="radio"><label for="__tabbed_3_2">Configuration file</label><div class="tabbed-content">
<div class="highlight"><pre><span></span><code><span class="nt">storage</span><span class="p">:</span>
  <span class="nt">engine</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">inMemory</span>
  <span class="nt">inMemory</span><span class="p">:</span>
    <span class="nt">engineConfig</span><span class="p">:</span>
      <span class="nt">inMemorySizeGB</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">140</span>
      <span class="nt">statisticsLogDelaySecs</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">0</span>
</code></pre></div>
</div>
</input></input></div>
<h3 id="available-options">Available options</h3>
<table>
<thead>
<tr>
<th>Command line</th>
<th>Config file</th>
<th>Default value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--inMemorySizeGB()</code></td>
<td><code>storage.inMemory.engineConfig.inMemorySizeGB</code></td>
<td>50% of total memory minus 1024 MB, but not less than 256 MB</td>
<td>Specifies the maximum memory in gigabytes to use for data.</td>
</tr>
<tr>
<td><code>--inMemoryStatisticsLogDelaySecs()</code></td>
<td><code>storage.inMemory.engineConfig.statisticsLogDelaySecs</code></td>
<td>0</td>
<td>Specifies the number of seconds between writes to statistics log.  If 0 is specified then statistics are not logged.</td>
</tr>
</tbody>
</table>
<div class="md-relbar2__inner md-grid">
<div class="md-content">
<article class="md-content__inner md-typeset" role="main">
<h4>Contact Us </h4>
<p>For free technical help, visit the Percona <a class="reference external" href="https://forums.percona.com/c/mongodb/percona-server-for-mongodb/17?utm_campaign=Doc%20pages" target="_blank">Community Forum</a>.<br/>
<p>To report bugs or submit feature requests, open a <a class="reference external" href="https://jira.percona.com/projects/PSMDB/issues/" target="_blank">JIRA</a> ticket.<br/>
<p>For paid <a class="reference external" href="https://www.percona.com/services/support"> support </a> and <a class="reference external" href="https://www.percona.com/services/managed-services"> managed </a> or <a class="reference external" href="https://www.percona.com/services/consulting">consulting services </a>, contact <a class="reference external" href="https://www.percona.com/about-percona/contact" target="_blank">Percona Sales</a>.</p>
</p></p></article>
</div>
</div>
<!-- Last update of source file -->
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Run Percona Server for MongoDB in a Docker container" class="md-footer__link md-footer__link--prev" href="install/docker.html" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Run Percona Server for MongoDB in a Docker container
            </div>
</div>
</a>
<a aria-label="Next: Hot Backup" class="md-footer__link md-footer__link--next" href="hot-backup.html" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              Hot Backup
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
            Percona LLC, © 2023
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
 ... <a class="link--pdf-download" download href="_pdf/PerconaServerforMongoDB-6.0.pdf" title="PDF">download PDF</a></div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": ".", "features": "content.action.view content.account.edit content.code.copy search.highlight search.share", "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "assets/javascripts/workers/search.409db549.min.js", "version": {"provider": "mike"}}</script>
<script src="assets/javascripts/bundle.756773cc.min.js"></script>
<script src="js/version-select.js"></script>
<script src="js/promptremover.js"></script>
<img height="1" src="https://tracking.g2crowd.com/attribution_tracking/conversions/1007137.gif?e=" width="1">
<noscript>
<iframe height="0" src="https://www.googletagmanager.com/ns.html?id=GTM-K48FGP2" style="display:none;visibility:hidden" width="0"></iframe>
</noscript>
</img></body>
</html>